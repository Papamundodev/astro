---
const base = import.meta.env.PUBLIC_WP_URL;
const response = await fetch(`${base}/wp-json/wp/v2/service`);
const services = await response.json();
const {screen} = Astro.props
---
<div popover id={`megamenu-services-${screen}`} class="megamenu">
    {services.map((service: any) => 
        <li class="megamenu-item">
            <a href={`/wordpress-pages/${service.slug}`}>{service.title.rendered}</a>
            <img src={service.featured_media} alt={service.title.rendered} />
        </li>
    )}
</div>